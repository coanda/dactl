<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
  Configuration file for testing multiple namespaces.
  Geoff Johnson <geoff.johnson@coanda.ca>
  2013-05-30
-->

<!--
<dactl xmlns="http://git/control/dactl/XMLSchema-instance"
       xmlns:cld="http://gitorious.org/cld/libcld"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://git/control/dactl dactl.xsd
                           http://gitorious.org/cld/libcld cld.xsd">
-->

<dactl xmlns:cld="urn:libcld">

    <property name="app">DACTL</property>
    <property name="display-channel-frame">true</property>
    <property name="display-chart-frame">true</property>
    <property name="display-control-frame">true</property>
    <property name="display-module-frame">false</property>
    <property name="launch-input-on-startup">true</property>
    <property name="launch-output-on-startup">true</property>

    <!-- all of the cld:objects should be loaded as a single treemap by the builder class -->
    <cld:objects>
        <cld:object id="daq0" type="daq">
            <!-- daq rate in hz -->
            <cld:property name="rate">50.0</cld:property>
            <cld:object id="dev0" type="device" driver="comedi">
                <cld:property name="hardware">PCI-1723</cld:property>
                <cld:property name="type">output</cld:property>
                <cld:property name="file">/dev/comedi0</cld:property>
            </cld:object>
        </cld:object>

        <!--
        Tasks
        -->
        <cld:object id="tk0" type="task" ttype="comedi">
            <cld:property name="devref">dev0</cld:property>
            <cld:property name="exec-type">polling</cld:property>
            <cld:property name="subdevice">0</cld:property>
            <cld:property name="poll-type">read</cld:property>
            <cld:property name="poll-interval-ms">20</cld:property>
        </cld:object>

            </cld:object>
        </cld:object>

        <!-- log files configuration -->
        <cld:object id="log0" type="log">
            <!-- path should end in / for now -->
            <cld:property name="title">Data Log</cld:property>
            <cld:property name="path">./</cld:property>
            <cld:property name="file">log.dat</cld:property>
            <cld:property name="format">%F-%T</cld:property>
            <!-- log rate in hz -->
            <cld:property name="rate">50.000</cld:property>
            <cld:object id="col00" type="column" chref="ai00"/>
            <cld:object id="col01" type="column" chref="ai01"/>
            <cld:object id="col02" type="column" chref="ai02"/>
            <cld:object id="col03" type="column" chref="ai03"/>
            <cld:object id="col04" type="column" chref="ai04"/>
            <cld:object id="col05" type="column" chref="ai05"/>
            <cld:object id="col06" type="column" chref="ai06"/>
            <cld:object id="col07" type="column" chref="ai07"/>
        </cld:object>
        -->


         <!-- Channel calibrations for scaling process values -->
        <cld:object id="ai_cal0" type="calibration">
            <cld:property name="units">Volts</cld:property>
            <cld:object id="cft0" type="coefficient">
                <cld:property name="n">0</cld:property>
                <cld:property name="value">5.0000</cld:property>
            </cld:object>
            <cld:object id="cft1" type="coefficient">
                <cld:property name="n">1</cld:property>
                <cld:property name="value">2.0000</cld:property>
            </cld:object>
        </cld:object>

        <cld:object id="ctl0" type="control">
            <cld:object id="pid0" type="pid-2">
                <cld:property name="desc">PID 0</cld:property>
                <cld:property name="dt">10</cld:property>
                <cld:property name="sp">5.000000</cld:property>
                <cld:property name="kp">3.000000</cld:property>
                <cld:property name="ki">0.010000</cld:property>
                <cld:property name="kd">0.000000</cld:property>
                <cld:object id="pv0" type="process_value2" dsref="ds00" direction="input"/>
                <cld:object id="pv1" type="process_value2" dsref="ds01" direction="output"/>
            </cld:object>
        </cld:object>
        <cld:object id="ctl1" type="control">
            <cld:object id="pid1" type="pid-2">
                <cld:property name="desc">PID 1</cld:property>
                <cld:property name="dt">10</cld:property>
                <cld:property name="sp">0.000000</cld:property>
                <cld:property name="kp">7.500000</cld:property>
                <cld:property name="ki">0.015000</cld:property>
                <cld:property name="kd">0.000000</cld:property>
                <cld:property name="sp_chanref">mc00</cld:property>
                <cld:object id="pv0" type="process_value2" dsref="ds02" direction="input"/>
                <cld:object id="pv1" type="process_value2" dsref="ds03" direction="output"/>
            </cld:object>
        </cld:object>
        <cld:object id="ao_cal0" type="calibration">
            <cld:property name="units">% of max.</cld:property>
>>>>>>> 68781d4... Add interface elements for additional CLD support
            <cld:object id="cft0" type="coefficient">
                <cld:property name="n">0</cld:property>
                <cld:property name="value">0.0000</cld:property>
            </cld:object>
            <cld:object id="cft1" type="coefficient">
                <cld:property name="n">1</cld:property>
                <cld:property name="value">1.0000</cld:property>
            </cld:object>
        </cld:object>
        <cld:object id="cal01" type="calibration">
            <cld:property name="units">Volts</cld:property>
            <cld:object id="cft0" type="coefficient">
                <cld:property name="n">0</cld:property>
                <cld:property name="value">0.000</cld:property>
            </cld:object>
            <cld:object id="cft1" type="coefficient">
                <cld:property name="n">1</cld:property>
                <cld:property name="value">1.000</cld:property>
            </cld:object>
        </cld:object>
        <cld:object id="cal02" type="calibration">
            <cld:property name="units">Volts</cld:property>
            <cld:object id="cft0" type="coefficient">
                <cld:property name="n">0</cld:property>
                <cld:property name="value">0.000</cld:property>
            </cld:object>
            <cld:object id="cft1" type="coefficient">
                <cld:property name="n">1</cld:property>
                <cld:property name="value">1.000</cld:property>
            </cld:object>
        </cld:object>
        <cld:object id="cal03" type="calibration">
=======
        </cld:object>

        <cld:object id="cal0" type="calibration">
>>>>>>> 7cffea9... Rework widget classes to allow for configured layouts
            <cld:property name="units">Volts</cld:property>
            <cld:object id="cft0" type="coefficient">
                <cld:property name="n">0</cld:property>
                <cld:property name="value">0.000</cld:property>
            </cld:object>
            <cld:object id="cft1" type="coefficient">
                <cld:property name="n">1</cld:property>
                <cld:property name="value">1.000</cld:property>
            </cld:object>
        </cld:object>
        <cld:object id="cal04" type="calibration">
            <cld:property name="units">Volts</cld:property>
            <cld:object id="cft0" type="coefficient">
                <cld:property name="n">0</cld:property>
                <cld:property name="value">0.000</cld:property>
            </cld:object>
            <cld:object id="cft1" type="coefficient">
                <cld:property name="n">1</cld:property>
                <cld:property name="value">1.000</cld:property>
            </cld:object>
        </cld:object>
        <cld:object id="cal05" type="calibration">
            <cld:property name="units">Volts</cld:property>
            <cld:object id="cft0" type="coefficient">
                <cld:property name="n">0</cld:property>
                <cld:property name="value">0.000</cld:property>
            </cld:object>
            <cld:object id="cft1" type="coefficient">
                <cld:property name="n">1</cld:property>
                <cld:property name="value">0.000</cld:property>
            </cld:object>
        </cld:object>
        <cld:object id="cal06" type="calibration">
            <cld:property name="units">Volts</cld:property>
            <cld:object id="cft0" type="coefficient">
                <cld:property name="n">0</cld:property>
                <cld:property name="value">0.000</cld:property>
            </cld:object>
            <cld:object id="cft1" type="coefficient">
                <cld:property name="n">1</cld:property>
                <cld:property name="value">0.000</cld:property>
            </cld:object>
        </cld:object>
        <cld:object id="cal07" type="calibration">
            <cld:property name="units">Volts</cld:property>
            <cld:object id="cft0" type="coefficient">
                <cld:property name="n">0</cld:property>
                <cld:property name="value">0.000</cld:property>
            </cld:object>
            <cld:property name="taskref">tk0</cld:property>
            <cld:property name="subdevnum">0</cld:property>
            <cld:property name="range">4</cld:property>
>>>>>>> e7eb5a5... Improve support for CLD hardware modules
        </cld:object>
        <cld:object id="ao00" type="channel" ref="dev0" ctype="analog" direction="output">
            <cld:property name="tag">ao00</cld:property>
            <cld:property name="desc">ao00</cld:property>
            <cld:property name="num">0</cld:property>
            <cld:property name="naverage">1</cld:property>
            <cld:property name="calref">cal00</cld:property>
        </cld:object>
        <cld:object id="ai01" type="channel" ref="dev0" ctype="analog" direction="input">
            <cld:property name="tag">IN1</cld:property>
            <cld:property name="desc">Sample Input</cld:property>
            <cld:property name="num">1</cld:property>
            <cld:property name="naverage">1</cld:property>
            <cld:property name="calref">cal01</cld:property>
        </cld:object>
        <cld:object id="ai02" type="channel" ref="dev0" ctype="analog" direction="input">
            <cld:property name="tag">IN2</cld:property>
            <cld:property name="desc">Sample Input</cld:property>
            <cld:property name="num">2</cld:property>
            <cld:property name="naverage">1</cld:property>
            <cld:property name="calref">cal02</cld:property>
        </cld:object>
        <cld:object id="ai03" type="channel" ref="dev0" ctype="analog" direction="input">
            <cld:property name="tag">IN3</cld:property>
            <cld:property name="desc">Sample Input</cld:property>
            <cld:property name="num">3</cld:property>
            <cld:property name="naverage">1</cld:property>
            <cld:property name="calref">cal03</cld:property>
        </cld:object>
        <cld:object id="ai04" type="channel" ref="dev0" ctype="analog" direction="input">
            <cld:property name="tag">IN4</cld:property>
            <cld:property name="desc">Sample Input</cld:property>
            <cld:property name="num">4</cld:property>
            <cld:property name="naverage">1</cld:property>
            <cld:property name="calref">cal04</cld:property>
        </cld:object>
        <cld:object id="ai05" type="channel" ref="dev0" ctype="analog" direction="input">
            <cld:property name="tag">IN5</cld:property>
            <cld:property name="desc">Not Used</cld:property>
            <cld:property name="num">5</cld:property>
            <cld:property name="naverage">1</cld:property>
            <cld:property name="calref">cal05</cld:property>
        </cld:object>
        <cld:object id="ai06" type="channel" ref="dev0" ctype="analog" direction="input">
            <cld:property name="tag">IN6</cld:property>
            <cld:property name="desc">Not Used</cld:property>
            <cld:property name="num">6</cld:property>
            <cld:property name="naverage">1</cld:property>
            <cld:property name="calref">cal06</cld:property>
        </cld:object>
        <cld:object id="ai07" type="channel" ref="dev0" ctype="analog" direction="input">
            <cld:property name="tag">IN7</cld:property>
            <cld:property name="desc">Not Used</cld:property>
            <cld:property name="num">7</cld:property>
            <cld:property name="naverage">1</cld:property>
            <cld:property name="calref">cal07</cld:property>
        </cld:object>
    </cld:objects>
</dactl>
