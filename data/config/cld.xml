<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
  Configuration file
  Geoff Johnson <geoff.johnson@coanda.ca>
  2013-04-12
-->
<cld xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:noNamespaceSchemaLocation="cld.xsd">
    <property name="app">UOHRTDA</property>

    <!-- all of the objects should be loaded as a single treemap by the builder class -->
    <objects>

        <!-- daq hardware configuration -->
        <object id="daq0" type="daq">
            <!-- daq rate in hz -->
            <property name="rate">50.0</property>
            <object id="dev0" type="device" driver="comedi">
                <property name="hardware">PCI-1723</property>
                <property name="type">output</property>
                <property name="file">/dev/comedi0</property>
            </object>
            <object id="vdev0" type="device" driver="virtual">
                <property name="file">/dev/null</property>
            </object>
        </object>

        <!-- log files configuration -->
        <object id="log0" type="log">
            <!-- path should end in / for now -->
            <property name="title">Data Log</property>
            <property name="path">./</property>
            <property name="file">log.dat</property>
            <property name="format">%F-%T</property>
            <!-- log rate in hz -->
            <property name="rate">50.000</property>
            <object id="col00" type="column" chref="ai00"/>
            <object id="col01" type="column" chref="ai01"/>
            <object id="col02" type="column" chref="ai02"/>
            <object id="col03" type="column" chref="ai03"/>
            <object id="col04" type="column" chref="ai04"/>
            <object id="col05" type="column" chref="ai05"/>
            <object id="col06" type="column" chref="ai06"/>
            <object id="col07" type="column" chref="ai07"/>
            <object id="col08" type="column" chref="lc0"/>
            <object id="col09" type="column" chref="lc1"/>
            <object id="col10" type="column" chref="lc2"/>
            <object id="col11" type="column" chref="lc3"/>
            <object id="col12" type="column" chref="lc4"/>
            <object id="col13" type="column" chref="lc5"/>
        </object>

        <!-- Licor port -->
        <!-- XXX ended up being hard-coded because of a bug
        <object id="ser0" type="port" ptype="serial">
            <property name="device">/dev/ttyS1</property>
            <property name="baudrate">115200</property>
            <property name="databits">8</property>
            <property name="stopbits">1</property>
            <property name="parity">none</property>
            <property name="handshake">hardware</property>
            <property name="accessmode">rw</property>
            <property name="echo">false</property>
        </object>
        -->
        <!-- Velmex port -->
        <!-- XXX also ended up being hard-coded
        <object id="ser1" type="port" ptype="serial">
            <property name="device">/dev/ttyS2</property>
            <property name="baudrate">9600</property>
            <property name="databits">8</property>
            <property name="stopbits">1</property>
            <property name="parity">odd</property>
            <property name="handshake">hardware</property>
            <property name="accessmode">rw</property>
            <property name="echo">false</property>
        </object>
        -->

        <!-- For now these might just used to create the interface widgets -->
        <!-- XXX also hard-coded
        <object id="lm0" type="module" mtype="licor"/>
        <object id="vm0" type="module" mtype="velmex"/>
        -->

        <!-- Channel calibrations for scaling process values -->
        <object id="cal00" type="calibration">
            <!-- number of coefficients determines the order -->
            <property name="units">Volts</property>
            <!-- n determines the exponent - y = a[1]*x^1 + a[0]*x^0 -->
            <object id="cft0" type="coefficient">
                <property name="n">0</property>
                <property name="value">0.000</property>
            </object>
            <object id="cft1" type="coefficient">
                <property name="n">1</property>
                <property name="value">1.000</property>
            </object>
        </object>
        <object id="cal01" type="calibration">
            <property name="units">Volts</property>
            <object id="cft0" type="coefficient">
                <property name="n">0</property>
                <property name="value">0.000</property>
            </object>
            <object id="cft1" type="coefficient">
                <property name="n">1</property>
                <property name="value">1.000</property>
            </object>
        </object>
        <object id="cal02" type="calibration">
            <property name="units">Volts</property>
            <object id="cft0" type="coefficient">
                <property name="n">0</property>
                <property name="value">0.000</property>
            </object>
            <object id="cft1" type="coefficient">
                <property name="n">1</property>
                <property name="value">1.000</property>
            </object>
        </object>
        <object id="cal03" type="calibration">
            <property name="units">Volts</property>
            <object id="cft0" type="coefficient">
                <property name="n">0</property>
                <property name="value">0.000</property>
            </object>
            <object id="cft1" type="coefficient">
                <property name="n">1</property>
                <property name="value">1.000</property>
            </object>
        </object>
        <object id="cal04" type="calibration">
            <property name="units">Volts</property>
            <object id="cft0" type="coefficient">
                <property name="n">0</property>
                <property name="value">0.000</property>
            </object>
            <object id="cft1" type="coefficient">
                <property name="n">1</property>
                <property name="value">1.000</property>
            </object>
        </object>
        <object id="cal05" type="calibration">
            <property name="units">Volts</property>
            <object id="cft0" type="coefficient">
                <property name="n">0</property>
                <property name="value">0.000</property>
            </object>
            <object id="cft1" type="coefficient">
                <property name="n">1</property>
                <property name="value">0.000</property>
            </object>
        </object>
        <object id="cal06" type="calibration">
            <property name="units">Volts</property>
            <object id="cft0" type="coefficient">
                <property name="n">0</property>
                <property name="value">0.000</property>
            </object>
            <object id="cft1" type="coefficient">
                <property name="n">1</property>
                <property name="value">0.000</property>
            </object>
        </object>
        <object id="cal07" type="calibration">
            <property name="units">Volts</property>
            <object id="cft0" type="coefficient">
                <property name="n">0</property>
                <property name="value">0.000</property>
            </object>
            <object id="cft1" type="coefficient">
                <property name="n">1</property>
                <property name="value">0.000</property>
            </object>
        </object>
        <object id="cal08" type="calibration">
            <property name="units">Volts</property>
            <object id="cft0" type="coefficient">
                <property name="n">0</property>
                <property name="value">0.000</property>
            </object>
            <object id="cft1" type="coefficient">
                <property name="n">1</property>
                <property name="value">1.000</property>
            </object>
        </object>

        <!-- analog input channels -->
        <object id="ai00" type="channel" ref="dev0" ctype="analog" direction="input">
            <property name="tag">IN0</property>
            <property name="desc">Sample Input</property>
            <property name="num">0</property>
            <property name="naverage">1</property>
            <property name="calref">cal00</property>
        </object>
        <object id="ai01" type="channel" ref="dev0" ctype="analog" direction="input">
            <property name="tag">IN1</property>
            <property name="desc">Sample Input</property>
            <property name="num">1</property>
            <property name="naverage">1</property>
            <property name="calref">cal01</property>
        </object>
        <object id="ai02" type="channel" ref="dev0" ctype="analog" direction="input">
            <property name="tag">IN2</property>
            <property name="desc">Sample Input</property>
            <property name="num">2</property>
            <property name="naverage">1</property>
            <property name="calref">cal02</property>
        </object>
        <object id="ai03" type="channel" ref="dev0" ctype="analog" direction="input">
            <property name="tag">IN3</property>
            <property name="desc">Sample Input</property>
            <property name="num">3</property>
            <property name="naverage">1</property>
            <property name="calref">cal03</property>
        </object>
        <object id="ai04" type="channel" ref="dev0" ctype="analog" direction="input">
            <property name="tag">IN4</property>
            <property name="desc">Sample Input</property>
            <property name="num">4</property>
            <property name="naverage">1</property>
            <property name="calref">cal04</property>
        </object>
        <object id="ai05" type="channel" ref="dev0" ctype="analog" direction="input">
            <property name="tag">IN5</property>
            <property name="desc">Not Used</property>
            <property name="num">5</property>
            <property name="naverage">1</property>
            <property name="calref">cal05</property>
        </object>
        <object id="ai06" type="channel" ref="dev0" ctype="analog" direction="input">
            <property name="tag">IN6</property>
            <property name="desc">Not Used</property>
            <property name="num">6</property>
            <property name="naverage">1</property>
            <property name="calref">cal06</property>
        </object>
        <object id="ai07" type="channel" ref="dev0" ctype="analog" direction="input">
            <property name="tag">IN7</property>
            <property name="desc">Not Used</property>
            <property name="num">7</property>
            <property name="naverage">1</property>
            <property name="calref">cal07</property>
        </object>
        <!--
         ! Channels used with the Licor module, don't edit unless you know
         ! what you're doing.
         !-->
        <object id="lc0" type="channel" ref="vdev0" ctype="virtual">
            <property name="tag">LC0</property>
            <property name="desc">Licor Channel</property>
            <property name="num">8</property>
            <property name="calref">cal08</property>
        </object>
        <object id="lc1" type="channel" ref="vdev0" ctype="virtual">
            <property name="tag">LC1</property>
            <property name="desc">Licor Channel</property>
            <property name="num">9</property>
            <property name="calref">cal08</property>
        </object>
        <object id="lc2" type="channel" ref="vdev0" ctype="virtual">
            <property name="tag">LC2</property>
            <property name="desc">Licor Channel</property>
            <property name="num">10</property>
            <property name="calref">cal08</property>
        </object>
        <object id="lc3" type="channel" ref="vdev0" ctype="virtual">
            <property name="tag">LC3</property>
            <property name="desc">Licor Channel</property>
            <property name="num">11</property>
            <property name="calref">cal08</property>
        </object>
        <object id="lc4" type="channel" ref="vdev0" ctype="virtual">
            <property name="tag">LC4</property>
            <property name="desc">Licor Channel</property>
            <property name="num">12</property>
            <property name="calref">cal08</property>
        </object>
        <object id="lc5" type="channel" ref="vdev0" ctype="virtual">
            <property name="tag">LC5</property>
            <property name="desc">Licor Channel</property>
            <property name="num">13</property>
            <property name="calref">cal08</property>
        </object>
    </objects>
</cld>
